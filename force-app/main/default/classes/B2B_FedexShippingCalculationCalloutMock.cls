/*****************************************************************************
Name: 		B2B_FedexShippingCalculationCalloutMock
Purpose: 	Mock class for B2B_FedexShippingCalculationCallout
Date: 		07/06/2021
Created by: Soumya Sahoo
*******************************************************************************
MODIFICATIONS â€“ Date 		|	Dev Name		|	Method		|	User Story
*******************************************************************************
	V2			09/06/2022	|	Sayalee Brahmankar		|		| Added Header	
********************************************************************************/
@isTest
global class B2B_FedexShippingCalculationCalloutMock implements HttpCalloutMock{
    global HTTPResponse respond(HTTPRequest request) {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader('Content-Type', 'application/xml');
        String body = '<?xml version="1.0" encoding="UTF-8"?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">';
        body += '<SOAP-ENV:Header/><SOAP-ENV:Body><RateReply xmlns="http://fedex.com/ws/rate/v28"><HighestSeverity>SUCCESS</HighestSeverity>';
        body += '<Notifications><Severity>SUCCESS</Severity><Source>crs</Source><Code>0</Code><Message>Request was successfully processed. </Message><LocalizedMessage>Request was successfully processed. </LocalizedMessage></Notifications><TransactionDetail><CustomerTransactionId>RAS Example</CustomerTransactionId></TransactionDetail><Version><ServiceId>crs</ServiceId><Major>28</Major><Intermediate>0</Intermediate><Minor>0</Minor></Version><RateReplyDetails>';
        body += '<ServiceType>FEDEX_GROUND</ServiceType><ServiceDescription><ServiceType>FIRST_OVERNIGHT</ServiceType><Code>06</Code><Names><Type>long</Type><Encoding>utf-8</Encoding><Value>FedEx First Overnight&#194;&#174;</Value></Names><Names><Type>long</Type><Encoding>ascii</Encoding><Value>FedEx First Overnight</Value></Names><Names><Type>medium</Type><Encoding>utf-8</Encoding><Value>FedEx First Overnight&#194;&#174;</Value></Names><Names><Type>medium</Type><Encoding>ascii</Encoding><Value>FedEx First Overnight</Value></Names><Names><Type>short</Type><Encoding>utf-8</Encoding><Value>FO</Value></Names><Names><Type>short</Type><Encoding>ascii</Encoding><Value>FO</Value></Names><Names><Type>abbrv</Type><Encoding>ascii</Encoding><Value>FO</Value></Names>';
        body += '<Description>First Overnight</Description><AstraDescription>1ST OVR</AstraDescription></ServiceDescription><PackagingType>YOUR_PACKAGING</PackagingType><DeliveryStation>CAKA </DeliveryStation><DeliveryDayOfWeek>TUE</DeliveryDayOfWeek><DeliveryTimestamp>2021-05-25T08:00:00</DeliveryTimestamp><CommitDetails><ServiceType>FIRST_OVERNIGHT</ServiceType><ServiceDescription><ServiceType>FIRST_OVERNIGHT</ServiceType><Code>06</Code><Names><Type>long</Type><Encoding>utf-8</Encoding><Value>FedEx First Overnight&#194;&#174;</Value></Names><Names><Type>long</Type><Encoding>ascii</Encoding><Value>FedEx First Overnight</Value></Names><Names><Type>medium</Type><Encoding>utf-8</Encoding><Value>FedEx First Overnight&#194;&#174;</Value></Names><Names><Type>medium</Type><Encoding>ascii</Encoding>';
        body += '<Value>FedEx First Overnight</Value></Names><Names><Type>short</Type><Encoding>utf-8</Encoding><Value>FO</Value></Names><Names><Type>short</Type><Encoding>ascii</Encoding><Value>FO</Value></Names><Names><Type>abbrv</Type><Encoding>ascii</Encoding><Value>FO</Value></Names><Description>First Overnight</Description><AstraDescription>1ST OVR</AstraDescription></ServiceDescription><DerivedOriginDetail><CountryCode>US</CountryCode><StateOrProvinceCode>TN</StateOrProvinceCode><PostalCode>38125</PostalCode><ServiceArea>A1</ServiceArea><LocationId>HKAA </LocationId><LocationNumber>0</LocationNumber></DerivedOriginDetail><DerivedDestinationDetail><CountryCode>US</CountryCode><StateOrProvinceCode>OH</StateOrProvinceCode><PostalCode>44333</PostalCode><ServiceArea>A1</ServiceArea><LocationId>CAKA </LocationId><LocationNumber>0</LocationNumber><AirportId>CLE</AirportId></DerivedDestinationDetail><CommitTimestamp>2021-05-25T08:00:00</CommitTimestamp><DayOfWeek>TUE</DayOfWeek><DestinationServiceArea>A1</DestinationServiceArea><BrokerToDestinationDays>0</BrokerToDestinationDays><DocumentContent>NON_DOCUMENTS</DocumentContent></CommitDetails><DestinationAirportId>CLE</DestinationAirportId><IneligibleForMoneyBackGuarantee>false</IneligibleForMoneyBackGuarantee><OriginServiceArea>A1</OriginServiceArea><DestinationServiceArea>A1</DestinationServiceArea><SignatureOption>SERVICE_DEFAULT</SignatureOption><ActualRateType>PAYOR_LIST_PACKAGE</ActualRateType><RatedShipmentDetails><EffectiveNetDiscount><Currency>USD</Currency><Amount>0.0</Amount></EffectiveNetDiscount><ShipmentRateDetail><RateType>PAYOR_LIST_PACKAGE</RateType><RateScale>10</RateScale><RateZone>04</RateZone><PricingCode>PACKAGE</PricingCode><RatedWeightMethod>DIM</RatedWeightMethod><DimDivisor>139</DimDivisor><FuelSurchargePercent>5.5</FuelSurchargePercent><TotalBillingWeight><Units>LB</Units><Value>13.0</Value></TotalBillingWeight><TotalDimWeight><Units>LB</Units><Value>13.0</Value></TotalDimWeight><TotalBaseCharge><Currency>USD</Currency><Amount>162.7</Amount></TotalBaseCharge><TotalFreightDiscounts><Currency>USD</Currency><Amount>0.0</Amount></TotalFreightDiscounts><TotalNetFreight><Currency>USD</Currency><Amount>162.7</Amount></TotalNetFreight><TotalSurcharges><Currency>USD</Currency><Amount>8.95</Amount></TotalSurcharges><TotalNetFedExCharge><Currency>USD</Currency><Amount>171.65</Amount></TotalNetFedExCharge><TotalTaxes><Currency>USD</Currency><Amount>0.0</Amount></TotalTaxes><TotalNetCharge><Currency>USD</Currency><Amount>171.65</Amount></TotalNetCharge><TotalRebates><Currency>USD</Currency><Amount>0.0</Amount></TotalRebates><TotalDutiesAndTaxes><Currency>USD</Currency><Amount>0.0</Amount></TotalDutiesAndTaxes><TotalAncillaryFeesAndTaxes><Currency>USD</Currency><Amount>0.0</Amount></TotalAncillaryFeesAndTaxes><TotalDutiesTaxesAndFees><Currency>USD</Currency><Amount>0.0</Amount></TotalDutiesTaxesAndFees><TotalNetChargeWithDutiesAndTaxes><Currency>USD</Currency><Amount>171.65</Amount></TotalNetChargeWithDutiesAndTaxes><Surcharges><SurchargeType>FUEL</SurchargeType><Description>Fuel</Description><Amount><Currency>USD</Currency><Amount>8.95</Amount></Amount></Surcharges></ShipmentRateDetail><RatedPackages><GroupNumber>0</GroupNumber><EffectiveNetDiscount><Currency>USD</Currency><Amount>0.0</Amount></EffectiveNetDiscount><PackageRateDetail><RateType>PAYOR_LIST_PACKAGE</RateType><RatedWeightMethod>DIM</RatedWeightMethod><BillingWeight><Units>LB</Units><Value>13.0</Value></BillingWeight><DimWeight><Units>LB</Units><Value>13.0</Value></DimWeight><BaseCharge><Currency>USD</Currency><Amount>162.7</Amount></BaseCharge><TotalFreightDiscounts><Currency>USD</Currency><Amount>0.0</Amount></TotalFreightDiscounts><NetFreight><Currency>USD</Currency><Amount>162.7</Amount></NetFreight><TotalSurcharges><Currency>USD</Currency><Amount>8.95</Amount></TotalSurcharges><NetFedExCharge><Currency>USD</Currency><Amount>171.65</Amount></NetFedExCharge><TotalTaxes><Currency>USD</Currency><Amount>0.0</Amount></TotalTaxes><NetCharge><Currency>USD</Currency><Amount>171.65</Amount></NetCharge><TotalRebates><Currency>USD</Currency><Amount>0.0</Amount></TotalRebates><Surcharges><SurchargeType>FUEL</SurchargeType><Description>Fuel</Description><Amount><Currency>USD</Currency><Amount>8.95</Amount></Amount></Surcharges></PackageRateDetail></RatedPackages></RatedShipmentDetails></RateReplyDetails></RateReply></SOAP-ENV:Body></SOAP-ENV:Envelope>';
           
        response.setBody(body);
        response.setStatusCode(200);
        return response; 
    }
}